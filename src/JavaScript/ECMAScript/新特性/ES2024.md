# ES2024

2024 å¹´ 6 æœˆ 26 æ—¥ å‘å¸ƒã€‚

## æ­£åˆ™è¡¨è¾¾å¼ v æ ‡è¯†

```typescript
const regex = /[\p{Script_Extensions=Greek}&&\p{Letter}]/v;

console.log(regex.unicodeSets); // true
```

## `Object.groupBy()`

```typescript
Object.groupBy(items, callbackFn);
```

```typescript
const inventory = [
  { name: 'èŠ¦ç¬‹', type: 'è”¬èœ', quantity: 5 },
  { name: 'é¦™è•‰', type: 'æ°´æžœ', quantity: 0 },
  { name: 'å±±ç¾Š', type: 'è‚‰', quantity: 23 },
  { name: 'æ¨±æ¡ƒ', type: 'æ°´æžœ', quantity: 5 },
  { name: 'é±¼', type: 'è‚‰', quantity: 22 },
];

const result = Object.groupBy(inventory, ({ type }) => type);

/* ç»“æžœæ˜¯ï¼š
{
  è”¬èœ: [
    { name: "èŠ¦ç¬‹", type: "è”¬èœ", quantity: 5 },
  ],
  æ°´æžœ: [
    { name: "é¦™è•‰", type: "æ°´æžœ", quantity: 0 },
    { name: "æ¨±æ¡ƒ", type: "æ°´æžœ", quantity: 5 }
  ],
  è‚‰: [
    { name: "å±±ç¾Š", type: "è‚‰", quantity: 23 },
    { name: "é±¼", type: "è‚‰", quantity: 22 }
  ]
}
*/
```

é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ `Map.groupBy`

## `Promise.withResolvers()`

Promise.withResolvers() çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼Œå½“ä½ æœ‰ä¸€ä¸ª promiseï¼Œéœ€è¦é€šè¿‡æ— æ³•åŒ…è£…åœ¨ promise æ‰§è¡Œå™¨å†…çš„æŸä¸ªäº‹ä»¶ç›‘å¬å™¨æ¥è§£å†³æˆ–æ‹’ç»ã€‚

```typescript
const { promise, resolve, reject } = Promise.withResolvers();

// ç­‰åŒäºŽä¸‹é¢çš„ä»£ç 
let resolve, reject;
const promise = new Promise((res, rej) => {
  resolve = res;
  reject = rej;
});
```

## `String.prototype.isWellFormed()`

```typescript
const str1 = 'abc';
const str2 = 'ab\uD83D\uDE04c';

str1.isWellFormed(); // true
str2.isWellFormed(); // false
```

## `String.prototype.toWellFormed()`

```typescript
const str2 = 'ab\uD83D\uDE04c';

str2.toWellFormed(); // 'abðŸ˜„c'
```
